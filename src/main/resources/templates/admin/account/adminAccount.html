<!DOCTYPE html>
<html th:replace="~{/layouts/adminbase :: layout(~{::main}, ~{::link}, ~{::script})}"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <link rel="stylesheet" th:href="@{/css/admin/admin.css}">
</head>
<!-- 메인 -->
<main>
    <!-- 메뉴 -->
    <div class="menu">

        <!-- 사이드 메뉴-->
        <div id="sideMenuBar">
            <!-- 사이드 메뉴 항목 -->
            <div id="sideMenuContainer">
                <div th:onclick="|location.href='@{/admin/admin}'|" id="sidebuttonMain" class="sideMenuButton">
                    계정 관리
                </div>
                <div th:onclick="|location.href='@{/admin/willopen}'|" id="sidebutton2" class="sideMenuButton">
                    펀딩 목록 관리
                </div>
                <div th:onclick="|location.href='@{/admin/allPrice}'|" id="sidebutton3" class="sideMenuButton">
                    결제 통계 확인
                </div>
                <div th:onclick="|location.href='@{/admin/notice}'|" id="sidebutton4" class="sideMenuButton">
                    공지사항
                </div>
                <div th:onclick="|location.href='@{/admin/reportDetails}'|" id="sidebutton5" class="sideMenuButton">
                    신고 관리
                </div>
                <div th:onclick="|location.href='@{/admin/Issuance}'|" id="sidebutton6" class="sideMenuButton">
                    쿠폰 관리
                </div>
            </div>
        </div>
        <!-- 메인 메뉴 -->
        <section>
            <div id="backgroundpage">
                        <!-- 메인 메뉴 항목-->
                        <div id="mainMenuContainer">
                            <div th:onclick="|location.href='@{/admin/admin}'|"   id="mainMenuButton1" class="mainMenuButton" >
                                회원 목록 조회
                            </div>
                            <div th:onclick="|location.href='@{/admin/withdrawn}'|"   id="mainMenuButton2" class="mainMenuButton">
                                탈퇴 회원 목록 조회
                            </div>
                            <div th:onclick="|location.href='@{/admin/funPayment}'|"   id="mainMenuButton3" class="mainMenuButton">
                                펀딩 결제 내역
                            </div>
                            <div th:onclick="|location.href='@{{/admin/memshipPayment}'|"   id="mainMenuButton4" class="mainMenuButton">
                                멤버십 결제 내역
                            </div>
                            <div th:onclick="|location.href='@{/admin/blackList}'|"   id="mainMenuButton5" class="mainMenuButton">
                                블랙리스트
                            </div>
                            <div th:onclick="|location.href='@{/admin/adminAccount}'|"   id="mainMenuContainernotfirst" class="mainMenuButton">
                                관리자 계정 관리
                            </div>
                        </div>

                        <!-- 아이디 검색 버튼 -->
                        <div class="memberIDSearchContainer">
                            <div id="memberID" class="memberIDButton">
                                아이디
                            </div>
                            <input type="text" placeholder="검색하실 관리자의 아이디를 입력해주세요" id="inputID" class="memberIDButton">

                            </input>
                            <div id="searchButton" class="memberIDButton">
                                검색
                            </div>
                        </div>
                        <!-- 조회 결과 페이지 -->
                        <div class="listPage">
                            <div class="SortationContainer">
                                <div id="adminLine1" class="SortationList">
                                    구분
                                </div>
                                <div id="adminLine2" class="SortationList">
                                    아이디
                                </div>
                                <div id="adminLine3" class="SortationList">
                                    비밀번호
                                </div>
                                <div id="adminLine4" class="SortationList">
                                    이메일
                                </div>
                                <div id="adminLine5" class="SortationList">
                                    등록 날짜
                                </div>
                            </div>
                            <div th:each="adminAccount : ${adminAccountList}" class="table">
                                <div th:text="${adminAccount.getAdminCode()}" id="adminAccountMana1"></div>
                                <div th:text="${adminAccount.getAdminId()}" id="adminAccountMana2"></div>
                                <div th:text="${adminAccount.getAdminPwd()}" id="adminAccountMana3"></div>
                                <div th:text="${adminAccount.getAdminEmail()}" id="adminAccountMana4"></div>
                                <div th:text="${#dates.format(adminAccount.getRegiDate(), 'yyyy/MM/dd')}" id="adminAccountMana5"></div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
            <ul class="pagination">

                <!-- 슬라이드바 -->


                <button type="button" id="createadminAccount">관리자 계정 생성</button>
                <button type="button" id="Withdrawal">계정 탈퇴</button>
            </ul>
        </section>    <button class="contactBtn">모달 테스트</button>
    <div class="contactmodal">
        <div class="contactmodal-container">
            <div class="contactmodal-content">
                <span class="close">&times;</span>
                <h2 class="contactmodal-title">1:1 문의</h2>
                <form class="mb-3 contact" name="contact" id="contact" method="post">
                    <label for=""></label>
                    <select name="contactCode" id="contactCode">
                        <option value="">회원 정보 문의</option>
                        <option value="">결제 문의</option>
                        <option value="">쿠폰/포인트 문의</option>
                        <option value="">상품/배송 문의</option>
                        <option value="">멤버십 문의</option>
                        <option value="">교환·AS 문의</option>
                        <option value="">취소·환불·반품 문의</option>
                        <option value="">서비스 이용 문의</option>
                    </select>
                    <textarea class="col-auto form-control contactContents" type="text" id="" placeholder="최소10이상 작성해주세요!!" maxlength="3000"></textarea>
                    <div class="file-container">
                        <label for="contact-imgInput">
                            <span><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><style>svg{fill:#f35f4c}</style><path d="M149.1 64.8L138.7 96H64C28.7 96 0 124.7 0 160V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V160c0-35.3-28.7-64-64-64H373.3L362.9 64.8C356.4 45.2 338.1 32 317.4 32H194.6c-20.7 0-39 13.2-45.5 32.8zM256 192a96 96 0 1 1 0 192 96 96 0 1 1 0-192z"/></svg>문의 이미지</span>
                        </label>
                        <input type="file" id="contact-imgInput" onchange="contactreadURL(this)">
                        <div class="contact-imgdiv"></div>
                    </div>
                    <button class="" type="submit">제출</button>
                </form>
            </div>
        </div>
    </div>
    <script>
        const contactmodal = document.querySelector(".contactmodal");
        const btn = document.querySelector(".contactBtn");
        const $span = document.querySelector(".close");


        btn.addEventListener('click', openContactModal);
        $span.addEventListener('click', closeContactModal);

        function openContactModal() {
            contactmodal.style.display = "block";
            contactmodal.animate([{opacity: 0}, {opacity: 1}], {duration: 300, fill: "forwards"});
        }

        function closeContactModal() {
            contactmodal.animate([{opacity: 1}, {opacity: 0}], {duration: 300, fill: "forwards"}).onfinish = function() {
                contactmodal.style.display = "none";
                const $img = document.querySelector(".contact-imgdiv");
                if($img.hasChildNodes()){
                    $img.replaceChildren();
                }
            };
        }
    </script>
    <script>
        function contactreadURL(obj) {

            let reader = new FileReader();
            if(!obj.files.length) {
                return;
            }
            reader.readAsDataURL(obj.files[0]);
            reader.onload = function (e) {
                let $div = $('<div>');
                $($div).css('width','120px');
                $($div).css('height','120px');
                $($div).css('padding','10px 10px 0px 0px');

                $('.contact-imgdiv').append($div);

                let img = $('<img />');
                $(img).attr('src', e.target.result);
                $(img).css('width','100%');
                $(img).css('height','100%');
                $($div).append(img);
            }
        }
    </script>


    </div>
</main>

</html>